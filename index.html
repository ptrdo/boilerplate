<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>IDM: Boilerplate</title>
  <meta name="publisher" content="Institute for Disease Modeling">
  <meta name="copyright" content="2018">
  <meta name="language" content="English">
  <meta name="description" content="">
  <meta name="revised" content="2018/12/14">
  <meta name="viewport" content="width=device-width,user-scalable=yes">
  <link rel="stylesheet" href="./css/normalize.css?v=7.0.0">
  <link rel="stylesheet" href="./css/idmorg-font.css">
  <link rel="stylesheet" href="./css/idmorg-global.css">
  <link rel="stylesheet" href="./css/idmorg-core.css">
  <script src="./js/idmorg-menu.js"></script>
</head>
<body>
<main id="main">
  <header id="header">
    <aside class="truss"></aside>
    <div>
      <nav class="primary"></nav>
      <nav class="secondary"></nav>
    </div>
    <div id="tribar" class="omni" tabindex="0">
      <i class="material-icons">menu</i>
    </div>
  </header>
  <article>
    <div id="wrap">
      <div id="content">

       <!-- PAGE CONTENT HERE -->
        <p id="regular" style="margin:7rem;display:inline-block;cursor:pointer;">A Regular Menu</p>

      </div>
    </div>
    <ins id="dialog"></ins>
    <aside id="palette"></aside>
    <aside id="dossier"></aside>
  </article>
  <footer id="footer">
    <nav>
      <figure title="Global Good"></figure>
      <cite title="No reproduction or distribution without written permission of Intellectual Ventures. Attribution-Noncommercial-ShareAlike 4.0 License.">Copyright &copy; 2018 Intellectual Ventures Property Holdings, LLC  All rights reserved.</cite>
      <figure title="Institute for Disease Modeling"></figure>
    </nav>
  </footer>
</main>
<script>

  /* EXAMPLE IMPLEMENTATION */

  var sample = {
    "parentNode": null,
    "element": "menu",
    "attributes": {
      "class": "dropdown"
    },
    "childNodes": [{
      "element": "a",
      "content": "Google",
      "attributes": {
        "href": "http://google.com",
        "title": "search for something..."
      }
    }, {
      "element": "a",
      "content": "Amazon",
      "attributes": {
        "href": "http://relentless.com",
        "title": "buy something..."
      }
    }, {
      "attributes": {
        "class": "spacer"
      }
    }, {
      "element": "a",
      "content": "Go to Here",
      "attributes": {
        "href": "#here",
        "title": "this link will go to the #here hash"
      }
    }, {
      "element": "a",
      "content": "Go to There",
      "attributes": {
        "href": "#null",
        "onclick": "return false;",
        "title": "this link will do nothing!"
      },
      "childNodes": [
        {
          "element": "a",
          "content": "Or this place",
          "attributes": {
            "href": "#thisplace",
            "title": "This is one option"
          }
        },
        {
          "element": "a",
          "content": "Or another place",
          "attributes": {
            "href": "#anotherplace",
            "title": "This is another option"
          }
        }
      ]
    }]
  };


  // this is a standard default implementation...
  var tribarElement = document.getElementById("tribar");
  var tribarMenu = new IDM_Menu();
  tribarMenu.create(tribarElement, sample);

  // this is a custom menu click handler...
  var onMenuItemClick = function(event) {
     event.preventDefault();
     // allow the menu to close...
     setTimeout(function() {
       // show which item was clicked...
       alert("A custom click handler has intervened!\n" + event.target.innerText);
     }, 0);
  };

  // this example instantiates with the custom menu click handler...
  var regularElement = document.getElementById("regular");
  var regularMenu = new IDM_Menu({ onMenuItemClick: onMenuItemClick });
  regularMenu.create(regularElement, sample);


  /**
   * @public overridden via options passed at instantiation
   * @property {Boolean} config.handleToggling when true, open/close of menu is provided.
   * @property {Boolean} config.maskElsewhere when true, entire viewport is cloaked to dismiss menu with click-away.
   * @property {Function} config.onMenuToggle fires when menu is opened or closed, invoked with one argument: true if open, false if closed.
   * @property {Function} config.onMenuItemClick fires when menu item is clicked, invoked with one argument: the event.
   */


</script>
</body>
</html>
